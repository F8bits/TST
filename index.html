<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Roadmap de MatemÃ¡tica</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;600;700;800&display=swap');
:root{--bg:#0a0e1a;--c0:#ffd166;--c1:#06d6a0;--c2:#118ab2;--c3:#ef476f;--c4:#a855f7;--c5:#f97316;--c6:#22d3ee;--c7:#fb923c;--c8:#4ade80}
*{margin:0;padding:0;box-sizing:border-box}
body{background:var(--bg);font-family:'Syne',sans-serif;color:#e2e8f0;min-height:100vh;background-image:linear-gradient(rgba(100,150,255,.04) 1px,transparent 1px),linear-gradient(90deg,rgba(100,150,255,.04) 1px,transparent 1px);background-size:40px 40px}
header{text-align:center;padding:48px 20px 28px}
h1{font-size:clamp(1.8rem,5vw,3rem);font-weight:800;background:linear-gradient(135deg,#ffd166,#ef476f,#a855f7,#22d3ee);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.subtitle{font-family:'Space Mono',monospace;font-size:.7rem;color:rgba(255,255,255,.3);margin-top:8px;letter-spacing:3px;text-transform:uppercase}
.pw{max-width:500px;margin:18px auto 0}.pb-bg{background:rgba(255,255,255,.06);border-radius:99px;height:5px;overflow:hidden}
.pb{height:5px;border-radius:99px;background:linear-gradient(90deg,#ffd166,#ef476f,#a855f7);width:0%;transition:width .4s}
.pl{font-family:'Space Mono',monospace;font-size:.62rem;color:rgba(255,255,255,.3);text-align:center;margin-top:5px;letter-spacing:1px}
.map{max-width:1280px;margin:0 auto;padding:16px 20px 80px;display:flex;flex-direction:column;gap:6px}
.stage{display:flex;gap:14px;align-items:flex-start;margin-bottom:2px}
.slabel{writing-mode:vertical-rl;font-family:'Space Mono',monospace;font-size:.55rem;font-weight:700;letter-spacing:3px;text-transform:uppercase;color:rgba(255,255,255,.12);min-width:24px;display:flex;align-items:center;justify-content:center;padding-top:4px}
.scontent{flex:1;display:flex;flex-direction:column;gap:8px}
.sh{font-family:'Space Mono',monospace;font-size:.58rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:3px 12px;border-radius:99px;display:inline-flex;align-items:center;gap:6px;width:fit-content;margin-bottom:2px}
.row{display:grid;gap:8px}
.r1{grid-template-columns:1fr}.r2{grid-template-columns:1fr 1fr}.r3{grid-template-columns:1fr 1fr 1fr}.r4{grid-template-columns:repeat(4,1fr)}
.node{border-radius:10px;padding:13px 15px;border:1px solid rgba(255,255,255,.07);background:rgba(255,255,255,.025);cursor:pointer;transition:all .18s;text-align:left;position:relative}
.node:hover{transform:translateY(-2px)}.node.done{opacity:.55}
.node.done::after{content:'âœ“';position:absolute;top:9px;right:11px;font-size:.75rem;font-weight:700;color:#4ade80}
.nh{display:flex;align-items:center;gap:7px;margin-bottom:9px}
.ni{font-size:1rem}.nt{font-size:.78rem;font-weight:700;text-transform:uppercase;letter-spacing:.5px}
.ntags{display:flex;flex-wrap:wrap;gap:4px}
.tag{font-family:'Space Mono',monospace;font-size:.62rem;padding:3px 7px;border-radius:5px;background:rgba(0,0,0,.25);border:1px solid rgba(255,255,255,.07)}
.tag.k{font-weight:700;border-color:rgba(255,255,255,.14)}
.nnote{font-family:'Space Mono',monospace;font-size:.56rem;color:rgba(255,255,255,.22);margin-top:7px;font-style:italic}
.connector{text-align:center;padding:3px 0;font-family:'Space Mono',monospace;font-size:.58rem;color:rgba(255,255,255,.13);letter-spacing:3px;display:flex;align-items:center;justify-content:center;gap:10px}
.connector::before,.connector::after{content:'';flex:1;max-width:180px;height:1px;background:rgba(255,255,255,.05)}
/* Stage colors */
.s0 .node{border-color:rgba(255,209,102,.14);background:rgba(255,209,102,.03)}.s0 .node:hover{border-color:rgba(255,209,102,.4);box-shadow:0 6px 24px rgba(255,209,102,.1)}.s0 .nt{color:var(--c0)}.s0 .tag.k{background:rgba(255,209,102,.12);border-color:rgba(255,209,102,.25);color:var(--c0)}.s0 .sh{background:rgba(255,209,102,.1);color:var(--c0);border:1px solid rgba(255,209,102,.25)}
.s1 .node{border-color:rgba(6,214,160,.14);background:rgba(6,214,160,.03)}.s1 .node:hover{border-color:rgba(6,214,160,.4);box-shadow:0 6px 24px rgba(6,214,160,.1)}.s1 .nt{color:var(--c1)}.s1 .tag.k{background:rgba(6,214,160,.12);border-color:rgba(6,214,160,.25);color:var(--c1)}.s1 .sh{background:rgba(6,214,160,.1);color:var(--c1);border:1px solid rgba(6,214,160,.25)}
.s2 .node{border-color:rgba(17,138,178,.14);background:rgba(17,138,178,.03)}.s2 .node:hover{border-color:rgba(17,138,178,.4);box-shadow:0 6px 24px rgba(17,138,178,.1)}.s2 .nt{color:var(--c2)}.s2 .tag.k{background:rgba(17,138,178,.12);border-color:rgba(17,138,178,.25);color:var(--c2)}.s2 .sh{background:rgba(17,138,178,.1);color:var(--c2);border:1px solid rgba(17,138,178,.25)}
.s3 .node{border-color:rgba(239,71,111,.14);background:rgba(239,71,111,.03)}.s3 .node:hover{border-color:rgba(239,71,111,.4);box-shadow:0 6px 24px rgba(239,71,111,.1)}.s3 .nt{color:var(--c3)}.s3 .tag.k{background:rgba(239,71,111,.12);border-color:rgba(239,71,111,.25);color:var(--c3)}.s3 .sh{background:rgba(239,71,111,.1);color:var(--c3);border:1px solid rgba(239,71,111,.25)}
.s4 .node{border-color:rgba(168,85,247,.14);background:rgba(168,85,247,.03)}.s4 .node:hover{border-color:rgba(168,85,247,.4);box-shadow:0 6px 24px rgba(168,85,247,.1)}.s4 .nt{color:var(--c4)}.s4 .tag.k{background:rgba(168,85,247,.12);border-color:rgba(168,85,247,.25);color:var(--c4)}.s4 .sh{background:rgba(168,85,247,.1);color:var(--c4);border:1px solid rgba(168,85,247,.25)}
.s5 .node{border-color:rgba(249,115,22,.14);background:rgba(249,115,22,.03)}.s5 .node:hover{border-color:rgba(249,115,22,.4);box-shadow:0 6px 24px rgba(249,115,22,.1)}.s5 .nt{color:var(--c5)}.s5 .tag.k{background:rgba(249,115,22,.12);border-color:rgba(249,115,22,.25);color:var(--c5)}.s5 .sh{background:rgba(249,115,22,.1);color:var(--c5);border:1px solid rgba(249,115,22,.25)}
.s6 .node{border-color:rgba(34,211,238,.14);background:rgba(34,211,238,.03)}.s6 .node:hover{border-color:rgba(34,211,238,.4);box-shadow:0 6px 24px rgba(34,211,238,.1)}.s6 .nt{color:var(--c6)}.s6 .tag.k{background:rgba(34,211,238,.12);border-color:rgba(34,211,238,.25);color:var(--c6)}.s6 .sh{background:rgba(34,211,238,.1);color:var(--c6);border:1px solid rgba(34,211,238,.25)}
.s7 .node{border-color:rgba(251,146,60,.14);background:rgba(251,146,60,.03)}.s7 .node:hover{border-color:rgba(251,146,60,.4);box-shadow:0 6px 24px rgba(251,146,60,.1)}.s7 .nt{color:var(--c7)}.s7 .tag.k{background:rgba(251,146,60,.12);border-color:rgba(251,146,60,.25);color:var(--c7)}.s7 .sh{background:rgba(251,146,60,.1);color:var(--c7);border:1px solid rgba(251,146,60,.25)}
.s8 .node{border-color:rgba(74,222,128,.14);background:rgba(74,222,128,.03)}.s8 .node:hover{border-color:rgba(74,222,128,.4);box-shadow:0 6px 24px rgba(74,222,128,.1)}.s8 .nt{color:var(--c8)}.s8 .tag.k{background:rgba(74,222,128,.12);border-color:rgba(74,222,128,.25);color:var(--c8)}.s8 .sh{background:rgba(74,222,128,.1);color:var(--c8);border:1px solid rgba(74,222,128,.25)}
/* Modal */
.ov{display:none;position:fixed;inset:0;background:rgba(0,0,0,.8);z-index:200;align-items:center;justify-content:center;padding:16px;backdrop-filter:blur(6px)}
.ov.open{display:flex}
.modal{background:#111120;border:1px solid rgba(255,255,255,.1);border-radius:16px;width:100%;max-width:580px;max-height:92vh;overflow:hidden;display:flex;flex-direction:column;animation:pop .2s ease}
@keyframes pop{from{transform:scale(.92);opacity:0}to{transform:scale(1);opacity:1}}
.mhdr{padding:20px 22px 0;display:flex;align-items:flex-start;justify-content:space-between;flex-shrink:0}
.micon{font-size:1.5rem;margin-bottom:3px}.mtitle{font-size:1.1rem;font-weight:800}
.msub{font-family:'Space Mono',monospace;font-size:.62rem;color:rgba(255,255,255,.3);margin-top:2px}
.closebtn{background:none;border:none;color:rgba(255,255,255,.3);font-size:1.1rem;cursor:pointer;padding:4px;margin-left:10px;flex-shrink:0;line-height:1}.closebtn:hover{color:#fff}
.tabs{display:flex;padding:14px 22px 0;gap:2px;flex-shrink:0;border-bottom:1px solid rgba(255,255,255,.07)}
.tab{font-family:'Space Mono',monospace;font-size:.6rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;padding:5px 12px;border-radius:5px 5px 0 0;cursor:pointer;color:rgba(255,255,255,.3);background:none;border:none;border-bottom:2px solid transparent;transition:all .15s;margin-bottom:-1px}
.tab.active{color:#fff;border-bottom-color:#a78bfa}.tab:hover:not(.active){color:rgba(255,255,255,.6)}
.mbody{padding:18px 22px;overflow-y:auto;flex:1}
.tpanel{display:none}.tpanel.active{display:block}
/* Overview */
.mdesc{font-size:.83rem;color:#94a3b8;line-height:1.75;margin-bottom:14px}
.tlist{list-style:none;display:flex;flex-direction:column;gap:5px;margin-bottom:14px}
.tlist li{font-family:'Space Mono',monospace;font-size:.7rem;color:#94a3b8;padding:5px 10px;border-radius:6px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.07);display:flex;align-items:center;gap:7px}
.tlist li::before{content:'â†’';color:rgba(255,255,255,.2);flex-shrink:0}
.mbtn{width:100%;margin-top:14px;padding:9px;border-radius:8px;border:none;cursor:pointer;font-family:'Syne',sans-serif;font-weight:700;font-size:.83rem;background:#a78bfa;color:#0a0e1a;transition:all .2s}
.mbtn:hover{background:#c4b5fd}.mbtn.undone{background:rgba(255,255,255,.06);color:rgba(255,255,255,.4)}
/* Resources */
.rlist{display:flex;flex-direction:column;gap:9px}
.rcard{border-radius:10px;padding:13px 15px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);text-decoration:none;display:block;transition:all .15s}
.rcard:hover{border-color:rgba(255,255,255,.2);background:rgba(255,255,255,.07)}
.rtop{display:flex;align-items:center;gap:8px;margin-bottom:3px}
.rtype{font-family:'Space Mono',monospace;font-size:.56rem;font-weight:700;letter-spacing:1px;text-transform:uppercase;padding:2px 7px;border-radius:4px;flex-shrink:0}
.tv{background:rgba(239,71,111,.2);color:#ef476f}.ts{background:rgba(34,211,238,.2);color:#22d3ee}.tp{background:rgba(255,209,102,.2);color:#ffd166}.tc{background:rgba(168,85,247,.2);color:#a855f7}
.rname{font-size:.83rem;font-weight:700;color:#e2e8f0}.rarr{margin-left:auto;color:rgba(255,255,255,.2);font-size:.9rem}
.rdesc{font-size:.72rem;color:rgba(255,255,255,.3);margin-top:1px}
/* Questions */
.qintro{font-family:'Space Mono',monospace;font-size:.62rem;color:rgba(255,255,255,.3);margin-bottom:14px;line-height:1.7;padding:10px 12px;background:rgba(255,255,255,.03);border-radius:8px;border:1px dashed rgba(255,255,255,.08)}
.qcard{border-radius:10px;padding:15px;margin-bottom:9px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08)}
.qhead{display:flex;align-items:center;gap:8px;margin-bottom:10px}
.qnum{font-family:'Space Mono',monospace;font-size:.58rem;font-weight:700;width:20px;height:20px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:rgba(255,255,255,.08);color:rgba(255,255,255,.4);flex-shrink:0}
.qlvl{font-family:'Space Mono',monospace;font-size:.56rem;padding:2px 7px;border-radius:4px;text-transform:uppercase;letter-spacing:1px}
.qe{background:rgba(74,222,128,.15);color:#4ade80}.qm{background:rgba(255,209,102,.15);color:#ffd166}.qh{background:rgba(239,71,111,.15);color:#ef476f}
.qtxt{font-size:.82rem;color:#e2e8f0;line-height:1.65;margin-bottom:10px}
.qtog{font-family:'Space Mono',monospace;font-size:.6rem;color:rgba(255,255,255,.28);background:none;border:1px dashed rgba(255,255,255,.1);border-radius:5px;padding:4px 10px;cursor:pointer;transition:all .15s;margin-bottom:8px}
.qtog:hover{border-color:rgba(255,255,255,.25);color:rgba(255,255,255,.5)}
.qans{display:none;font-family:'Space Mono',monospace;font-size:.7rem;color:#4ade80;padding:8px 10px;border-radius:6px;background:rgba(74,222,128,.07);border:1px solid rgba(74,222,128,.15);line-height:1.65;margin-bottom:10px}
.qans.show{display:block}
.qself{display:flex;gap:5px}
.qrate{flex:1;padding:6px;border-radius:6px;border:1px solid rgba(255,255,255,.08);background:rgba(255,255,255,.03);cursor:pointer;font-size:.64rem;color:rgba(255,255,255,.3);text-align:center;transition:all .15s;font-family:'Space Mono',monospace}
.qrate:hover{border-color:rgba(255,255,255,.2);color:rgba(255,255,255,.55)}
.qrate.sb{background:rgba(239,71,111,.15);border-color:rgba(239,71,111,.3);color:#ef476f}
.qrate.so{background:rgba(255,209,102,.15);border-color:rgba(255,209,102,.3);color:#ffd166}
.qrate.sg{background:rgba(74,222,128,.15);border-color:rgba(74,222,128,.3);color:#4ade80}
.lcheck{margin-top:16px;padding:16px;border-radius:10px;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);text-align:center;display:none}
.lcheck.show{display:block}.lcemoji{font-size:2rem;margin-bottom:6px}
.lcmsg{font-size:.85rem;font-weight:700;margin-bottom:4px}
.lcsub{font-family:'Space Mono',monospace;font-size:.62rem;color:rgba(255,255,255,.3);line-height:1.6}
/* Legend */
.legend{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;padding:0 20px 48px;max-width:1280px;margin:12px auto 0}
.li{display:flex;align-items:center;gap:5px;font-family:'Space Mono',monospace;font-size:.56rem;color:rgba(255,255,255,.28);letter-spacing:1px}
.ld{width:7px;height:7px;border-radius:50%}
@media(max-width:768px){.r2,.r3,.r4{grid-template-columns:1fr}.stage{flex-direction:column}.slabel{writing-mode:horizontal-tb;min-width:auto}}
</style>
</head>
<body>
<header>
  <h1>ğŸ§® Roadmap de MatemÃ¡tica</h1>
  <p class="subtitle">Do zero absoluto ao cÃ¡lculo avanÃ§ado Â· clique para estudar</p>
  <div class="pw">
    <div class="pb-bg"><div class="pb" id="pb"></div></div>
    <div class="pl" id="pl">0 de 35 tÃ³picos concluÃ­dos</div>
  </div>
</header>
<div class="map" id="map"></div>
<div class="legend" id="legend"></div>

<!-- Modal -->
<div class="ov" id="ov">
  <div class="modal">
    <div class="mhdr">
      <div class="mtwrap">
        <div class="micon" id="micon"></div>
        <div class="mtitle" id="mtitle"></div>
        <div class="msub" id="msub"></div>
      </div>
      <button class="closebtn" id="closebtn">âœ•</button>
    </div>
    <div class="tabs">
      <button class="tab active" data-tab="overview">ğŸ“– VisÃ£o Geral</button>
      <button class="tab" data-tab="resources">ğŸ”— Recursos</button>
      <button class="tab" data-tab="questions">ğŸ¯ QuestÃµes</button>
    </div>
    <div class="mbody">
      <div class="tpanel active" id="tab-overview">
        <p class="mdesc" id="mdesc"></p>
        <ul class="tlist" id="mlist"></ul>
        <button class="mbtn" id="mbtn"></button>
      </div>
      <div class="tpanel" id="tab-resources">
        <div class="rlist" id="rlist"></div>
      </div>
      <div class="tpanel" id="tab-questions">
        <div class="qintro">ğŸ’¡ Tente resolver antes de ver a resposta. Avalie sua prÃ³pria dificuldade â€” isso calibra se vocÃª estÃ¡ pronto pra avanÃ§ar.</div>
        <div id="qlist"></div>
        <div class="lcheck" id="lcheck">
          <div class="lcemoji" id="lcemoji"></div>
          <div class="lcmsg" id="lcmsg"></div>
          <div class="lcsub" id="lcsub"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
const DATA = [
  {
    s:'s0',label:'ğŸ§± Fundamentos Absolutos â€” Literalmente o Zero',
    nodes:[
      {id:'n0',icon:'ğŸ”¢',title:'NÃºmeros e Contagem',sub:'Naturais, inteiros, zero',
       tags:[{k:1,t:'NÃºmeros Naturais â„•'},{k:0,t:'Linha numÃ©rica'},{k:0,t:'Zero e negativo'},{k:0,t:'Comparar/ordenar'},{k:1,t:'Par e Ã­mpar'}],
       desc:'Tudo comeÃ§a aqui. NÃºmeros sÃ£o a linguagem do universo. VocÃª aprende a nomear quantidades, entender o zero (que demorou milÃªnios pra ser aceito!) e dar nome ao infinito.',
       topics:['NÃºmeros naturais (0, 1, 2, 3...)', 'RepresentaÃ§Ã£o na reta numÃ©rica', 'Comparar e ordenar nÃºmeros', 'Conceito de zero â€” por que ele Ã© revolucionÃ¡rio', 'Par, Ã­mpar e mÃºltiplos'],
       resources:[
         {t:'Khan Academy PT','type':'ts',url:'https://pt.khanacademy.org/math/arithmetic',d:'MÃ³dulo completo de aritmÃ©tica bÃ¡sica em portuguÃªs'},
         {t:'Prof. Ferretto â€” NÃºmeros Naturais','type':'tv',url:'https://www.youtube.com/@ProfessorFerretto',d:'Playlist do bÃ¡sico atÃ© vestibular, explicaÃ§Ã£o clara'},
         {t:'OBMEP â€” Problemas iniciais','type':'tp',url:'https://www.obmep.org.br/banco.htm',d:'Banco de problemas da olimpÃ­ada, nÃ­vel iniciante'}
       ],
       questions:[
         {q:'Escreva todos os nÃºmeros naturais entre 17 e 23 (inclusive).',a:'17, 18, 19, 20, 21, 22, 23 â€” total de 7 nÃºmeros.',lvl:'e'},
         {q:'Qual Ã© o menor nÃºmero natural par maior que 100?',a:'102. (100 jÃ¡ Ã© par, o prÃ³ximo Ã© 102.)',lvl:'m'},
         {q:'Se a soma de dois nÃºmeros naturais consecutivos Ã© 2025, quais sÃ£o eles?',a:'Seja n e n+1: n + n+1 = 2025 â†’ 2n = 2024 â†’ n = 1012. Resposta: 1012 e 1013.',lvl:'h'}
       ]
      },
      {id:'n1',icon:'â•',title:'OperaÃ§Ãµes BÃ¡sicas',sub:'As 4 operaÃ§Ãµes fundamentais',
       tags:[{k:1,t:'AdiÃ§Ã£o e subtraÃ§Ã£o'},{k:1,t:'MultiplicaÃ§Ã£o Ã— divisÃ£o'},{k:0,t:'Tabuada'},{k:0,t:'Ordem das ops'},{k:0,t:'Propriedades'}],
       desc:'As 4 operaÃ§Ãµes sÃ£o o alfabeto da matemÃ¡tica. Toda equaÃ§Ã£o, toda fÃ³rmula Ã© uma combinaÃ§Ã£o delas. Dominar a ordem de operaÃ§Ã£o evita 80% dos erros de iniciante.',
       topics:['AdiÃ§Ã£o e subtraÃ§Ã£o com nÃºmeros grandes', 'MultiplicaÃ§Ã£o: tabuada e algoritmo', 'DivisÃ£o com resto', 'Propriedades: comutativa, associativa, distributiva', 'Ordem das operaÃ§Ãµes (parÃªnteses > expoentes > Ã— Ã· > + âˆ’)'],
       resources:[
         {t:'Khan Academy â€” AritmÃ©tica','type':'ts',url:'https://pt.khanacademy.org/math/arithmetic',d:'ExercÃ­cios interativos com feedback imediato'},
         {t:'MatemÃ¡tica Rio â€” OperaÃ§Ãµes','type':'tv',url:'https://www.youtube.com/@matematicario',d:'Canal brasileiro com didÃ¡tica excelente'},
         {t:'Math is Fun','type':'ts',url:'https://www.mathsisfun.com/operation-order-pemdas.html',d:'ExplicaÃ§Ã£o visual da ordem das operaÃ§Ãµes'}
       ],
       questions:[
         {q:'Calcule: 3 + 4 Ã— 2 âˆ’ 1',a:'3 + 8 âˆ’ 1 = 10. MultiplicaÃ§Ã£o antes da soma/subtraÃ§Ã£o.',lvl:'e'},
         {q:'Calcule: (12 + 8) Ã· 4 Ã— 3 âˆ’ 5',a:'(20) Ã· 4 Ã— 3 âˆ’ 5 = 5 Ã— 3 âˆ’ 5 = 15 âˆ’ 5 = 10.',lvl:'m'},
         {q:'Quanto Ã© 7 Ã— (3 + 2Â²) âˆ’ 4 Ã· (6 âˆ’ 4)?',a:'7 Ã— (3 + 4) âˆ’ 4 Ã· 2 = 7 Ã— 7 âˆ’ 2 = 49 âˆ’ 2 = 47.',lvl:'h'}
       ]
      },
      {id:'n2',icon:'ğŸ§©',title:'FraÃ§Ãµes e Decimais',sub:'Partes do todo',
       tags:[{k:1,t:'Numerador / denominador'},{k:1,t:'EquivalÃªncia'},{k:0,t:'Op. com fraÃ§Ãµes'},{k:0,t:'Decimais'},{k:1,t:'Porcentagem %'}],
       desc:'FraÃ§Ãµes existem porque o mundo nÃ£o Ã© inteiro. O conceito de "parte por inteiro" abre a porta para racionais, probabilidade e praticamente tudo que vem depois.',
       topics:['FraÃ§Ã£o: numerador e denominador', 'FraÃ§Ãµes equivalentes e simplificaÃ§Ã£o', 'MMC para somar fraÃ§Ãµes', 'Decimais: relaÃ§Ã£o com potÃªncias de 10', 'Porcentagem: "por cento" = /100'],
       resources:[
         {t:'Khan Academy â€” FraÃ§Ãµes','type':'ts',url:'https://pt.khanacademy.org/math/arithmetic/fractions',d:'Curso completo com exercÃ­cios adaptativos'},
         {t:'Prof. Ferretto â€” FraÃ§Ãµes','type':'tv',url:'https://www.youtube.com/@ProfessorFerretto',d:'Playlist fraÃ§Ãµes do zero, muito bem explicado'},
         {t:'Mathway','type':'ts',url:'https://www.mathway.com',d:'Resolve passo a passo â€” use para checar seus cÃ¡lculos'}
       ],
       questions:[
         {q:'Simplifique a fraÃ§Ã£o 18/24.',a:'MDC(18,24) = 6. Dividindo: 18Ã·6 / 24Ã·6 = 3/4.',lvl:'e'},
         {q:'Calcule: 2/3 + 3/4.',a:'MMC(3,4)=12. â†’ 8/12 + 9/12 = 17/12 = 1 e 5/12.',lvl:'m'},
         {q:'Uma loja deu 15% de desconto num produto de R$240. Qual o preÃ§o final?',a:'Desconto: 240 Ã— 0,15 = 36. Final: 240 âˆ’ 36 = R$204,00.',lvl:'h'}
       ]
      }
    ]
  },
  {
    s:'s1',label:'ğŸ”£ Ãlgebra Fundamental',
    nodes:[
      {id:'n3',icon:'âš¡',title:'PotenciaÃ§Ã£o e RadiciaÃ§Ã£o',sub:'MultiplicaÃ§Ã£o repetida',
       tags:[{k:1,t:'PotÃªncias inteiras'},{k:1,t:'Raiz quadrada/cÃºbica'},{k:0,t:'Propriedades'},{k:0,t:'Irracionais âˆš2'},{k:0,t:'NotaÃ§Ã£o cientÃ­fica'}],
       desc:'PotÃªncia Ã© um atalho para multiplicaÃ§Ã£o repetida. 2Â¹â° = 1024. Raiz Ã© a operaÃ§Ã£o inversa. Essas operaÃ§Ãµes aparecem em crescimento exponencial, notaÃ§Ã£o cientÃ­fica e Ã¡lgebra.',
       topics:['DefiniÃ§Ã£o de aâ¿', 'Propriedades: aáµ Ã— aâ¿ = aáµâºâ¿, (aáµ)â¿ = aáµâ¿', 'Raiz quadrada exata e irracional', 'NotaÃ§Ã£o cientÃ­fica: 3 Ã— 10â¸', 'PotÃªncias negativas e fracionÃ¡rias'],
       resources:[
         {t:'Khan Academy â€” PotÃªncias','type':'ts',url:'https://pt.khanacademy.org/math/pre-algebra/pre-algebra-exponents-radicals',d:'MÃ³dulo completo com vÃ­deos e exercÃ­cios'},
         {t:'3Blue1Brown â€” Exponentials','type':'tv',url:'https://www.youtube.com/@3blue1brown',d:'IntuiÃ§Ã£o visual Ã­mpar (em inglÃªs, mas vale cada segundo)'},
         {t:'OBMEP NÃ­vel 1','type':'tp',url:'https://www.obmep.org.br/banco.htm',d:'Problemas com potÃªncias para nÃ­vel iniciante'}
       ],
       questions:[
         {q:'Calcule 2âµ + 3Â³.',a:'32 + 27 = 59.',lvl:'e'},
         {q:'Simplifique: (2Â³ Ã— 2â´) Ã· 2âµ.',a:'2^(3+4) Ã· 2âµ = 2â· Ã· 2âµ = 2Â² = 4.',lvl:'m'},
         {q:'Se 2Ë£ = 128, quanto vale x?',a:'128 = 2â·, logo x = 7.',lvl:'h'}
       ]
      },
      {id:'n4',icon:'ğŸ”—',title:'Divisibilidade e Primos',sub:'Os Ã¡tomos dos nÃºmeros',
       tags:[{k:1,t:'NÃºmeros primos'},{k:1,t:'FatoraÃ§Ã£o'},{k:1,t:'MMC e MDC'},{k:0,t:'Crivo de EratÃ³stenes'},{k:0,t:'CritÃ©rios div.'}],
       desc:'Todo nÃºmero inteiro Ã© um produto Ãºnico de primos â€” isso Ã© o Teorema Fundamental da AritmÃ©tica. O Crivo de EratÃ³stenes Ã© um dos algoritmos mais antigos da histÃ³ria (276 a.C.).',
       topics:['CritÃ©rios de divisibilidade por 2, 3, 5, 7, 11', 'NÃºmeros primos e compostos', 'FatoraÃ§Ã£o em primos', 'MMC: mÃ­nimo mÃºltiplo comum', 'MDC: mÃ¡ximo divisor comum'],
       resources:[
         {t:'Khan Academy â€” Primos','type':'ts',url:'https://pt.khanacademy.org/math/pre-algebra/pre-algebra-factors-multiples',d:'Do bÃ¡sico ao MMC/MDC com exercÃ­cios'},
         {t:'Numberphile â€” Prime Numbers','type':'tv',url:'https://www.youtube.com/@numberphile',d:'Canal fantÃ¡stico sobre nÃºmeros primos (inglÃªs)'},
         {t:'Brasil Escola â€” Divisibilidade','type':'ts',url:'https://brasilescola.uol.com.br/matematica/criterios-de-divisibilidade.htm',d:'Artigo completo em portuguÃªs com exemplos'}
       ],
       questions:[
         {q:'O nÃºmero 2025 Ã© divisÃ­vel por 5? Por 9?',a:'Por 5: termina em 5 â†’ Sim. Por 9: 2+0+2+5=9 â†’ Sim.',lvl:'e'},
         {q:'Calcule o MMC de 12, 18 e 30.',a:'12=2Â²Ã—3 | 18=2Ã—3Â² | 30=2Ã—3Ã—5. MMC=2Â²Ã—3Â²Ã—5=180.',lvl:'m'},
         {q:'Quantos divisores tem o nÃºmero 360?',a:'360=2Â³Ã—3Â²Ã—5. Divisores=(3+1)(2+1)(1+1)=4Ã—3Ã—2=24.',lvl:'h'}
       ]
      },
      {id:'n5',icon:'ğŸ”¤',title:'VariÃ¡veis e Ãlgebra BÃ¡sica',sub:'Letras em vez de nÃºmeros',
       tags:[{k:1,t:'ExpressÃµes algÃ©bricas'},{k:1,t:'EquaÃ§Ã£o 1Â° grau'},{k:0,t:'PolinÃ´mios'},{k:0,t:'FatoraÃ§Ã£o'},{k:1,t:'Produtos notÃ¡veis'}],
       desc:'Uma variÃ¡vel Ã© um nÃºmero que vocÃª ainda nÃ£o sabe. A Ã¡lgebra Ã© a arte de trabalhar com o desconhecido â€” e Ã© o que separa aritmÃ©tica de matemÃ¡tica de verdade.',
       topics:['VariÃ¡veis e expressÃµes algÃ©bricas', 'SimplificaÃ§Ã£o de expressÃµes (termos semelhantes)', 'Produtos notÃ¡veis: (a+b)Â², (aâˆ’b)Â², (a+b)(aâˆ’b)', 'FatoraÃ§Ã£o: fator comum, agrupamento', 'EquaÃ§Ãµes do 1Â° grau â€” princÃ­pio da balanÃ§a'],
       resources:[
         {t:'Khan Academy â€” Ãlgebra','type':'ts',url:'https://pt.khanacademy.org/math/algebra',d:'Curso completo de Ã¡lgebra do bÃ¡sico ao avanÃ§ado'},
         {t:'Prof. Ferretto â€” EquaÃ§Ãµes 1Â° grau','type':'tv',url:'https://www.youtube.com/@ProfessorFerretto',d:'Playlist equaÃ§Ãµes do 1Â° grau com muitos exemplos'},
         {t:'Paul\'s Math Notes â€” Algebra','type':'ts',url:'https://tutorial.math.lamar.edu/Classes/Alg/Alg.aspx',d:'ReferÃªncia tÃ©cnica completa (inglÃªs)'}
       ],
       questions:[
         {q:'Resolva: 3x âˆ’ 7 = 14.',a:'3x = 21 â†’ x = 7.',lvl:'e'},
         {q:'Expanda e simplifique: (x + 3)Â².',a:'xÂ² + 6x + 9.',lvl:'m'},
         {q:'Resolva: (2xâˆ’1)/3 + (x+2)/4 = 3.',a:'MMC=12: 4(2xâˆ’1) + 3(x+2) = 36 â†’ 8xâˆ’4+3x+6=36 â†’ 11x=34 â†’ x=34/11.',lvl:'h'}
       ]
      }
    ]
  },
  {
    s:'s2',label:'ğŸ“ Geometria',
    nodes:[
      {id:'n6',icon:'ğŸ“',title:'Geometria Plana',sub:'Figuras em 2D',
       tags:[{k:1,t:'Teorema de PitÃ¡goras'},{k:1,t:'Ãreas e perÃ­metros'},{k:0,t:'Ã‚ngulos'},{k:0,t:'TriÃ¢ngulos'},{k:0,t:'SemelhanÃ§a'}],
       desc:'PitÃ¡goras descobriu que aÂ² + bÂ² = cÂ² em todo triÃ¢ngulo retÃ¢ngulo. Esse Ãºnico teorema Ã© a base da engenharia, arquitetura e GPS. E tem mais de 370 demonstraÃ§Ãµes diferentes.',
       topics:['Ponto, reta, plano e Ã¢ngulos', 'TriÃ¢ngulos: tipos, propriedades, PitÃ¡goras', 'QuadrilÃ¡teros: Ã¡reas e perÃ­metros', 'CÃ­rculo: Ã¡rea = Ï€rÂ², comprimento = 2Ï€r', 'SemelhanÃ§a de figuras e escalas'],
       resources:[
         {t:'Khan Academy â€” Geometria','type':'ts',url:'https://pt.khanacademy.org/math/geometry',d:'MÃ³dulo completo com demonstraÃ§Ãµes interativas'},
         {t:'GeoGebra','type':'ts',url:'https://www.geogebra.org',d:'Ferramenta visual gratuita para explorar geometria'},
         {t:'Prof. Ferretto â€” Geometria Plana','type':'tv',url:'https://www.youtube.com/@ProfessorFerretto',d:'Playlist geometria plana com foco em ENEM/vestibular'}
       ],
       questions:[
         {q:'Um triÃ¢ngulo retÃ¢ngulo tem catetos de 6 e 8. Qual a hipotenusa?',a:'c = âˆš(36+64) = âˆš100 = 10.',lvl:'e'},
         {q:'Calcule a Ã¡rea de um trapÃ©zio com bases 8 e 12, altura 5.',a:'A = (B+b)/2 Ã— h = (12+8)/2 Ã— 5 = 10 Ã— 5 = 50.',lvl:'m'},
         {q:'Um cÃ­rculo tem Ã¡rea 100Ï€. Qual o comprimento de um arco de 90Â°?',a:'rÂ²Ï€=100Ï€ â†’ r=10. Arco 90Â°= 1/4 do total = 2Ï€Ã—10/4 = 5Ï€.',lvl:'h'}
       ]
      },
      {id:'n7',icon:'ğŸ—ºï¸',title:'Geometria AnalÃ­tica',sub:'Ãlgebra encontra geometria',
       tags:[{k:1,t:'Plano cartesiano'},{k:1,t:'EquaÃ§Ã£o da reta'},{k:0,t:'DistÃ¢ncia entre pontos'},{k:0,t:'CÃ´nicas'},{k:0,t:'CircunferÃªncia'}],
       desc:'Descartes teve essa ideia brilhante enquanto observava uma mosca no teto: e se descrevermos posiÃ§Ãµes com nÃºmeros? Isso uniu Ã¡lgebra e geometria para sempre.',
       topics:['Sistema de coordenadas (x,y)', 'DistÃ¢ncia entre dois pontos', 'EquaÃ§Ã£o da reta: y = ax + b', 'Coeficiente angular e linear', 'EquaÃ§Ã£o da circunferÃªncia'],
       resources:[
         {t:'Khan Academy â€” AnalÃ­tica','type':'ts',url:'https://pt.khanacademy.org/math/geometry/hs-geo-analytic-geometry',d:'Geometria analÃ­tica com exercÃ­cios graduados'},
         {t:'GeoGebra Graphing','type':'ts',url:'https://www.geogebra.org/graphing',d:'Plote qualquer equaÃ§Ã£o instantaneamente â€” gratuito'},
         {t:'Desmos','type':'ts',url:'https://www.desmos.com/calculator',d:'Calculadora grÃ¡fica online, interface linda'}
       ],
       questions:[
         {q:'Calcule a distÃ¢ncia entre os pontos A(1,2) e B(4,6).',a:'d = âˆš((4âˆ’1)Â²+(6âˆ’2)Â²) = âˆš(9+16) = âˆš25 = 5.',lvl:'e'},
         {q:'Qual a equaÃ§Ã£o da reta que passa por (0,3) e tem coef. angular 2?',a:'y = 2x + 3.',lvl:'m'},
         {q:'Ache os pontos de interseÃ§Ã£o de y=xÂ² e y=x+2.',a:'xÂ²=x+2 â†’ xÂ²âˆ’xâˆ’2=0 â†’ (xâˆ’2)(x+1)=0 â†’ x=2 ou x=âˆ’1. Pontos: (2,4) e (âˆ’1,1).',lvl:'h'}
       ]
      },
      {id:'n8',icon:'ğŸ“¡',title:'Trigonometria BÃ¡sica',sub:'Seno, cosseno, tangente',
       tags:[{k:1,t:'sen, cos, tg'},{k:1,t:'TriÃ¢ngulo retÃ¢ngulo'},{k:0,t:'Ã‚ngulos notÃ¡veis'},{k:0,t:'Lei dos senos'},{k:0,t:'Lei dos cossenos'}],
       desc:'Trigonometria nasceu para medir o inatingÃ­vel â€” a altura de uma montanha, a distÃ¢ncia atÃ© a Lua. "soh-cah-toa" Ã© um mnemÃ´nico que funciona de verdade.',
       topics:['RazÃµes trig no triÃ¢ngulo retÃ¢ngulo: sen=op/hip', 'Ã‚ngulos notÃ¡veis: 30Â°, 45Â°, 60Â°', 'Identidade fundamental: senÂ²Î¸ + cosÂ²Î¸ = 1', 'Lei dos senos: a/senA = b/senB = c/senC', 'Lei dos cossenos: cÂ² = aÂ² + bÂ² âˆ’ 2abÂ·cosC'],
       resources:[
         {t:'Khan Academy â€” Trigonometria','type':'ts',url:'https://pt.khanacademy.org/math/trigonometry',d:'Curso completo com visualizaÃ§Ãµes interativas'},
         {t:'3Blue1Brown â€” Trig','type':'tv',url:'https://www.youtube.com/watch?v=yBw67Fb31Cs',d:'IntuiÃ§Ã£o visual da trigonometria (inglÃªs)'},
         {t:'Prof. Ferretto â€” Trig','type':'tv',url:'https://www.youtube.com/@ProfessorFerretto',d:'Playlist trigonometria completa para vestibular'}
       ],
       questions:[
         {q:'Num triÃ¢ngulo retÃ¢ngulo, se o cateto oposto a 30Â° mede 5, qual a hipotenusa?',a:'sen30Â° = 1/2. EntÃ£o 5/h = 1/2 â†’ h = 10.',lvl:'e'},
         {q:'Calcule sen(45Â°) + cos(60Â°).',a:'âˆš2/2 + 1/2 = (âˆš2 + 1)/2 â‰ˆ 1,207.',lvl:'m'},
         {q:'Num triÃ¢ngulo com a=7, b=5, C=60Â°, calcule o lado c.',a:'cÂ² = 49+25âˆ’2Ã—7Ã—5Ã—cos60Â° = 74âˆ’35 = 39 â†’ c = âˆš39.',lvl:'h'}
       ]
      }
    ]
  },
  {
    s:'s3',label:'ğŸ“ˆ FunÃ§Ãµes â€” O coraÃ§Ã£o da matemÃ¡tica',
    nodes:[
      {id:'n9',icon:'ğŸ”—',title:'FunÃ§Ãµes e GrÃ¡ficos',sub:'Entrada â†’ SaÃ­da',
       tags:[{k:1,t:'DomÃ­nio e imagem'},{k:1,t:'f(x): notaÃ§Ã£o'},{k:0,t:'FunÃ§Ã£o injetora'},{k:0,t:'ComposiÃ§Ã£o'},{k:1,t:'FunÃ§Ã£o inversa'}],
       desc:'FunÃ§Ã£o Ã© uma mÃ¡quina: entra x, sai f(x). Temperatura, crescimento populacional, preÃ§o por quantidade â€” tudo que relaciona duas grandezas Ã© uma funÃ§Ã£o.',
       topics:['RelaÃ§Ã£o vs. FunÃ§Ã£o â€” a diferenÃ§a importa', 'DomÃ­nio, contradomÃ­nio e imagem', 'FunÃ§Ã£o injetora, sobrejetora, bijetora', 'ComposiÃ§Ã£o: f(g(x))', 'FunÃ§Ã£o inversa fâ»Â¹'],
       resources:[
         {t:'Khan Academy â€” FunÃ§Ãµes','type':'ts',url:'https://pt.khanacademy.org/math/algebra/x2f8bb11595b61c86:functions',d:'MÃ³dulo completo de funÃ§Ãµes com exercÃ­cios'},
         {t:'Desmos','type':'ts',url:'https://www.desmos.com/calculator',d:'Plote qualquer funÃ§Ã£o e explore visualmente'},
         {t:'Prof. Ferretto â€” FunÃ§Ãµes','type':'tv',url:'https://www.youtube.com/@ProfessorFerretto',d:'Playlist funÃ§Ãµes do conceito ao avanÃ§ado'}
       ],
       questions:[
         {q:'Se f(x) = 2x âˆ’ 1, calcule f(3) e f(âˆ’2).',a:'f(3)=5, f(âˆ’2)=âˆ’5.',lvl:'e'},
         {q:'A funÃ§Ã£o f(x) = xÂ² âˆ’ 4x + 3. Para quais x temos f(x) = 0?',a:'xÂ²âˆ’4x+3=0 â†’ (xâˆ’1)(xâˆ’3)=0 â†’ x=1 ou x=3.',lvl:'m'},
         {q:'Se f(x)=2x+1 e g(x)=xÂ², calcule g(f(âˆ’1)).',a:'f(âˆ’1)=âˆ’1. g(âˆ’1)=(âˆ’1)Â²=1.',lvl:'h'}
       ]
      },
      {id:'n10',icon:'ğŸ’¹',title:'FunÃ§Ãµes Exponenciais e LogarÃ­tmicas',sub:'Crescimento e escala',
       tags:[{k:1,t:'f(x) = aË£'},{k:1,t:'log e ln'},{k:0,t:'Propriedades do log'},{k:0,t:'NÃºmero e'},{k:0,t:'Eq. exponenciais'}],
       desc:'Exponencial descreve vÃ­rus, dÃ­vidas e explosÃµes nucleares. Logaritmo Ã© o inverso. A escala Richter de terremotos? LogarÃ­tmica. O pH da Ã¡gua? LogarÃ­tmico. EstÃ£o em todo lugar.',
       topics:['f(x) = aË£ â€” crescimento vs decrescimento', 'NÃºmero de Euler: e â‰ˆ 2,71828...', 'DefiniÃ§Ã£o de logaritmo: logâ‚(b) = c âŸº aá¶œ = b', 'Propriedades: log(ab), log(a/b), log(aâ¿)', 'EquaÃ§Ãµes exponenciais e logarÃ­tmicas'],
       resources:[
         {t:'Khan Academy â€” Exp & Log','type':'ts',url:'https://pt.khanacademy.org/math/algebra2/x2ec2f6f830c9fb89:logs',d:'MÃ³dulo completo de logaritmos com exercÃ­cios'},
         {t:'3Blue1Brown â€” e e o nÃºmero natural','type':'tv',url:'https://www.youtube.com/watch?v=m2MIpDrF7Es',d:'Por que e Ã© tÃ£o especial â€” visualizaÃ§Ã£o perfeita'},
         {t:'Wolfram Alpha','type':'ts',url:'https://www.wolframalpha.com',d:'Resolva e visualize qualquer equaÃ§Ã£o exponencial'}
       ],
       questions:[
         {q:'Calcule logâ‚‚(32).',a:'2âµ = 32 â†’ logâ‚‚(32) = 5.',lvl:'e'},
         {q:'Resolva: 3^(x+1) = 27.',a:'27=3Â³ â†’ x+1=3 â†’ x=2.',lvl:'m'},
         {q:'Simplifique: log(500) + log(2) âˆ’ log(10).',a:'log(500Ã—2) âˆ’ log(10) = log(1000) âˆ’ 1 = 3 âˆ’ 1 = 2.',lvl:'h'}
       ]
      }
    ]
  },
  {
    s:'s4',label:'ğŸ² CombinatÃ³ria, PA, PG e EstatÃ­stica',
    nodes:[
      {id:'n11',icon:'ğŸ“Š',title:'ProgressÃµes PA e PG',sub:'SequÃªncias com padrÃ£o',
       tags:[{k:1,t:'PA â€” razÃ£o constante'},{k:1,t:'PG â€” razÃ£o multiplicativa'},{k:0,t:'Soma dos termos'},{k:0,t:'Juros compostos'},{k:0,t:'SÃ©rie geomÃ©trica âˆ'}],
       desc:'PA tem diferenÃ§a constante entre termos (1, 4, 7, 10...). PG tem razÃ£o constante (1, 2, 4, 8, 16...). Juros compostos Ã© uma PG â€” e isso explica como dÃ­vidas explodem.',
       topics:['PA: termo geral aâ‚™ = aâ‚ + (nâˆ’1)r', 'PG: termo geral aâ‚™ = aâ‚ Ã— qâ¿â»Â¹', 'Soma dos termos de uma PA', 'Soma dos termos de uma PG finita', 'PG infinita convergente: S = aâ‚/(1âˆ’q)'],
       resources:[
         {t:'Khan Academy â€” SequÃªncias','type':'ts',url:'https://pt.khanacademy.org/math/algebra/x2f8bb11595b61c86:sequences',d:'SequÃªncias e sÃ©ries do bÃ¡sico ao intermediÃ¡rio'},
         {t:'Prof. Ferretto â€” PA e PG','type':'tv',url:'https://www.youtube.com/@ProfessorFerretto',d:'Playlist completa com questÃµes de vestibular'},
         {t:'OBMEP â€” Problemas de sequÃªncias','type':'tp',url:'https://www.obmep.org.br/banco.htm',d:'Problemas selecionados de olimpÃ­ada'}
       ],
       questions:[
         {q:'Qual o 10Â° termo da PA: 3, 7, 11, ...?',a:'r=4. aâ‚â‚€ = 3 + 9Ã—4 = 3 + 36 = 39.',lvl:'e'},
         {q:'A soma dos 5 primeiros termos de uma PG de razÃ£o 2 e aâ‚=3 Ã©?',a:'S = 3Ã—(2âµâˆ’1)/(2âˆ’1) = 3Ã—31 = 93.',lvl:'m'},
         {q:'Um capital de R$1000 Ã© aplicado a 10% ao mÃªs (juros compostos). Quanto terÃ¡ apÃ³s 3 meses?',a:'M = 1000 Ã— (1,10)Â³ = 1000 Ã— 1,331 = R$1.331,00.',lvl:'h'}
       ]
      },
      {id:'n12',icon:'ğŸ¯',title:'CombinatÃ³ria e Probabilidade',sub:'Contar sem listar',
       tags:[{k:1,t:'PermutaÃ§Ã£o'},{k:1,t:'CombinaÃ§Ã£o C(n,k)'},{k:0,t:'BinÃ´mio de Newton'},{k:1,t:'P(A) = fav/total'},{k:0,t:'Probabilidade cond.'}],
       desc:'Quantas senhas de 6 dÃ­gitos existem? Quantas mÃ£os de poker? CombinatÃ³ria responde sem precisar listar. Probabilidade quantifica o acaso com matemÃ¡tica precisa.',
       topics:['PrincÃ­pio Fundamental da Contagem', 'PermutaÃ§Ãµes: n! / (nâˆ’r)!', 'CombinaÃ§Ãµes: C(n,k) = n! / k!(nâˆ’k)!', 'BinÃ´mio de Newton', 'Probabilidade: P(A), P(AâˆªB), P(A|B)'],
       resources:[
         {t:'Khan Academy â€” Probabilidade','type':'ts',url:'https://pt.khanacademy.org/math/statistics-probability/probability-library',d:'MÃ³dulo de probabilidade do bÃ¡sico ao avanÃ§ado'},
         {t:'3Blue1Brown â€” Probabilidade','type':'tv',url:'https://www.youtube.com/watch?v=HZGCoVF3YvM',d:'SÃ©rie visual sobre probabilidade e Bayes (inglÃªs)'},
         {t:'Prof. Ferretto â€” CombinatÃ³ria','type':'tv',url:'https://www.youtube.com/@ProfessorFerretto',d:'PermutaÃ§Ã£o, arranjo e combinaÃ§Ã£o para vestibular'}
       ],
       questions:[
         {q:'De quantas formas podemos escolher 3 alunos de uma turma de 10?',a:'C(10,3) = 10!/(3!Ã—7!) = 120.',lvl:'e'},
         {q:'Num baralho de 52 cartas, qual a probabilidade de tirar um Ãs?',a:'4/52 = 1/13 â‰ˆ 7,7%.',lvl:'m'},
         {q:'Numa sala com 20 pessoas, qual a probabilidade de pelo menos 2 fazerem aniversÃ¡rio no mesmo dia?',a:'P(todas dif.) = (365Ã—364Ã—...Ã—346)/365Â²â°. P(â‰¥2 iguais) = 1 âˆ’ P(todas dif.) â‰ˆ 41%. (Paradoxo do aniversÃ¡rio!)',lvl:'h'}
       ]
      }
    ]
  },
  {
    s:'s5',label:'ğŸŒ€ PrÃ©-CÃ¡lculo â€” A transiÃ§Ã£o',
    nodes:[
      {id:'n13',icon:'â­•',title:'Trigonometria AvanÃ§ada',sub:'CÃ­rculo trigonomÃ©trico e identidades',
       tags:[{k:1,t:'CÃ­rculo unitÃ¡rio'},{k:1,t:'Radianos'},{k:0,t:'Identidades'},{k:0,t:'FÃ³rmulas de adiÃ§Ã£o'},{k:0,t:'Eq. trigonomÃ©tricas'}],
       desc:'No cÃ­rculo unitÃ¡rio, seno e cosseno sÃ£o coordenadas de um ponto. Isso unifica tudo: ondas de rÃ¡dio, som, luz elÃ©trica â€” tudo Ã© descrito por sen(x) e cos(x).',
       topics:['Radiano: Ï€ rad = 180Â°', 'CÃ­rculo unitÃ¡rio e valores fundamentais', 'Identidades: senÂ²x+cosÂ²x=1, tg=sen/cos', 'FÃ³rmulas de adiÃ§Ã£o: sen(a+b), cos(a+b)', 'EquaÃ§Ãµes trigonomÃ©tricas e soluÃ§Ãµes gerais'],
       resources:[
         {t:'Khan Academy â€” Trigonometria AvanÃ§ada','type':'ts',url:'https://pt.khanacademy.org/math/trigonometry',d:'CÃ­rculo trigonomÃ©trico e identidades completas'},
         {t:'3Blue1Brown â€” Euler\'s Formula','type':'tv',url:'https://www.youtube.com/watch?v=v0YEaeIClKY',d:'eâ±Ë£ = cos x + i sen x â€” a equaÃ§Ã£o mais bonita da matemÃ¡tica'},
         {t:'Desmos â€” Trig Explorer','type':'ts',url:'https://www.desmos.com/calculator/oy7pdhtl0l',d:'Explore graficamente qualquer funÃ§Ã£o trigonomÃ©trica'}
       ],
       questions:[
         {q:'Converta 270Â° em radianos.',a:'270Â° Ã— Ï€/180 = 3Ï€/2 rad.',lvl:'e'},
         {q:'Prove que sen(2x) = 2Â·sen(x)Â·cos(x).',a:'sen(x+x) = sen(x)cos(x)+cos(x)sen(x) = 2Â·sen(x)Â·cos(x). âœ“',lvl:'m'},
         {q:'Resolva: 2cosÂ²(x) âˆ’ 1 = 0, com x âˆˆ [0Â°, 360Â°).',a:'cosÂ²(x)=1/2 â†’ cos(x)=Â±âˆš2/2 â†’ x=45Â°, 135Â°, 225Â°, 315Â°.',lvl:'h'}
       ]
      },
      {id:'n14',icon:'ğŸ”®',title:'NÃºmeros Complexos',sub:'A raiz de âˆ’1 existe!',
       tags:[{k:1,t:'i = âˆšâˆ’1'},{k:1,t:'Forma a+bi'},{k:0,t:'Plano de Argand'},{k:0,t:'MÃ³dulo e argumento'},{k:0,t:'FÃ³rmula de Euler'}],
       desc:'i = âˆš(âˆ’1) parece absurdo, mas nÃºmeros complexos sÃ£o a base da engenharia elÃ©trica, mecÃ¢nica quÃ¢ntica e processamento de sinais. SÃ£o talvez a extensÃ£o matemÃ¡tica mais Ãºtil jÃ¡ inventada.',
       topics:['DefiniÃ§Ã£o de i: iÂ² = âˆ’1', 'Forma algÃ©brica: a + bi', 'OperaÃ§Ãµes com complexos', 'Plano de Argand: representaÃ§Ã£o grÃ¡fica', 'FÃ³rmula de Euler: eâ±Ë£ = cos(x) + iÂ·sen(x)'],
       resources:[
         {t:'Khan Academy â€” Complexos','type':'ts',url:'https://pt.khanacademy.org/math/precalculus/x9e81a4f98389efdf:complex',d:'NÃºmeros complexos do zero ao avanÃ§ado'},
         {t:'3Blue1Brown â€” Complexos','type':'tv',url:'https://www.youtube.com/watch?v=5PcpBw5Hbwo',d:'VisualizaÃ§Ã£o geomÃ©trica dos complexos'},
         {t:'Wolfram Alpha â€” Complexos','type':'ts',url:'https://www.wolframalpha.com',d:'Compute e visualize operaÃ§Ãµes com nÃºmeros complexos'}
       ],
       questions:[
         {q:'Calcule (2+3i) + (1âˆ’i).',a:'(2+1) + (3âˆ’1)i = 3 + 2i.',lvl:'e'},
         {q:'Calcule (1+i)Â².',a:'1 + 2i + iÂ² = 1 + 2i âˆ’ 1 = 2i.',lvl:'m'},
         {q:'Qual o mÃ³dulo e argumento de z = âˆ’1 + i?',a:'|z| = âˆš(1+1) = âˆš2. arg(z) = arctan(1/âˆ’1) no 2Â° quad = 135Â° = 3Ï€/4.',lvl:'h'}
       ]
      },
      {id:'n15',icon:'âˆ',title:'Limites â€” IntuiÃ§Ã£o',sub:'O que acontece quando x â†’ a',
       tags:[{k:1,t:'lim xâ†’a f(x)'},{k:0,t:'Limites laterais'},{k:1,t:'Continuidade'},{k:0,t:'Formas 0/0'},{k:0,t:'Limite no infinito'}],
       desc:'Limite Ã© perguntar: pra onde vai f(x) enquanto x se aproxima de algo? Newton e Leibniz inventaram o CÃ¡lculo para descrever movimento â€” o limite Ã© a fundaÃ§Ã£o desse edifÃ­cio.',
       topics:['Conceito intuitivo de limite', 'Limites laterais: limâº e limâ»', 'Continuidade: quando o limite = valor da funÃ§Ã£o', 'Formas indeterminadas: 0/0, âˆ/âˆ', 'Limite no infinito: comportamento assintÃ³tico'],
       resources:[
         {t:'Khan Academy â€” Limites','type':'ts',url:'https://pt.khanacademy.org/math/ap-calculus-ab/ab-limits-new',d:'MÃ³dulo completo de limites com visualizaÃ§Ãµes'},
         {t:'3Blue1Brown â€” Essence of Calculus','type':'tv',url:'https://www.youtube.com/watch?v=WUvTyaaNkzM',d:'EpisÃ³dio 1: a essÃªncia do cÃ¡lculo (inglÃªs)'},
         {t:'Paul\'s Math Notes â€” Limits','type':'ts',url:'https://tutorial.math.lamar.edu/Classes/CalcI/CalcI.aspx',d:'ReferÃªncia tÃ©cnica completa sobre limites (inglÃªs)'}
       ],
       questions:[
         {q:'Calcule: lim (xâ†’3) de (xÂ² âˆ’ 9)/(x âˆ’ 3).',a:'Fatorando: (x+3)(xâˆ’3)/(xâˆ’3) = x+3. Quando xâ†’3: 3+3 = 6.',lvl:'e'},
         {q:'Calcule: lim (xâ†’âˆ) de (3xÂ² + 2x)/(xÂ² âˆ’ 1).',a:'Dividindo tudo por xÂ²: (3 + 2/x)/(1 âˆ’ 1/xÂ²) â†’ 3/1 = 3.',lvl:'m'},
         {q:'A funÃ§Ã£o f(x) = (sen x)/x quando xâ†’0 vale quanto? (sem L\'HÃ´pital)',a:'Usando o limite fundamental: lim(xâ†’0) sen(x)/x = 1. (DemonstrÃ¡vel geometricamente pelo Teorema do Confronto.)',lvl:'h'}
       ]
      }
    ]
  },
  {
    s:'s6',label:'ğŸš€ CÃ¡lculo â€” Onde tudo se conecta',
    nodes:[
      {id:'n16',icon:'ğŸ“‰',title:'Derivadas',sub:'Taxa de variaÃ§Ã£o instantÃ¢nea',
       tags:[{k:1,t:'f\'(x) = inclinaÃ§Ã£o'},{k:0,t:'Regras de derivaÃ§Ã£o'},{k:1,t:'Regra da cadeia'},{k:0,t:'MÃ¡ximos e mÃ­nimos'},{k:0,t:'OtimizaÃ§Ã£o'}],
       desc:'Derivada Ã© a inclinaÃ§Ã£o da curva num ponto especÃ­fico. Velocidade Ã© derivada da posiÃ§Ã£o. AceleraÃ§Ã£o Ã© derivada da velocidade. A fÃ­sica inteira Ã© escrita com derivadas.',
       topics:['DefiniÃ§Ã£o via limite: f\'(x) = lim Î”y/Î”x', 'Regras: potÃªncia, produto, quociente', 'Regra da cadeia: d/dx[f(g(x))]', 'Derivadas de sen, cos, eË£, ln(x)', 'MÃ¡ximos e mÃ­nimos: f\'(x) = 0'],
       resources:[
         {t:'Khan Academy â€” Derivadas','type':'ts',url:'https://pt.khanacademy.org/math/ap-calculus-ab/ab-differentiation-1-new',d:'Curso completo de derivadas com exercÃ­cios'},
         {t:'3Blue1Brown â€” Derivatives','type':'tv',url:'https://www.youtube.com/watch?v=9vKqVkMQHKk',d:'EssÃªncia das derivadas â€” visualizaÃ§Ã£o geomÃ©trica perfeita'},
         {t:'Paul\'s Math Notes â€” Derivatives','type':'ts',url:'https://tutorial.math.lamar.edu/Classes/CalcI/DerivativeIntro.aspx',d:'ReferÃªncia tÃ©cnica completa com exemplos detalhados'}
       ],
       questions:[
         {q:'Calcule a derivada de f(x) = xÂ³ + 2x.',a:'f\'(x) = 3xÂ² + 2.',lvl:'e'},
         {q:'Derive f(x) = sen(xÂ²).',a:'Regra da cadeia: f\'(x) = cos(xÂ²) Ã— 2x = 2xÂ·cos(xÂ²).',lvl:'m'},
         {q:'Encontre os pontos crÃ­ticos de f(x) = xÂ³ âˆ’ 3x + 2.',a:'f\'(x) = 3xÂ²âˆ’3 = 0 â†’ xÂ²=1 â†’ x=1 ou x=âˆ’1. f(1)=0 (mÃ­n. local), f(âˆ’1)=4 (mÃ¡x. local).',lvl:'h'}
       ]
      },
      {id:'n17',icon:'ğŸ“ˆ',title:'Integrais',sub:'Ãrea sob a curva',
       tags:[{k:1,t:'âˆ« f(x) dx'},{k:1,t:'Teorema Fundamental'},{k:0,t:'Int. por substituiÃ§Ã£o'},{k:0,t:'Int. por partes'},{k:0,t:'Ãrea entre curvas'}],
       desc:'Integral Ã© a operaÃ§Ã£o inversa da derivada â€” isso Ã© o Teorema Fundamental do CÃ¡lculo, uma das descobertas mais poderosas da histÃ³ria humana. Com ela vocÃª calcula Ã¡rea, volume, trabalho e probabilidade.',
       topics:['Integral como acumulaÃ§Ã£o de Ã¡rea', 'Antiderivada e integral indefinida', 'Teorema Fundamental do CÃ¡lculo', 'TÃ©cnicas: substituiÃ§Ã£o simples', 'IntegraÃ§Ã£o por partes: âˆ«u dv'],
       resources:[
         {t:'Khan Academy â€” Integrais','type':'ts',url:'https://pt.khanacademy.org/math/ap-calculus-ab/ab-integration-new',d:'MÃ³dulo completo de integraÃ§Ã£o'},
         {t:'3Blue1Brown â€” Integrals','type':'tv',url:'https://www.youtube.com/watch?v=rfG8ce4nNh0',d:'EssÃªncia das integrais â€” intuiÃ§Ã£o visual irresistÃ­vel'},
         {t:'Integral Calculator','type':'ts',url:'https://www.integral-calculator.com',d:'Calcula passo a passo com explicaÃ§Ã£o visual'}
       ],
       questions:[
         {q:'Calcule âˆ«(3xÂ² + 2x)dx.',a:'xÂ³ + xÂ² + C.',lvl:'e'},
         {q:'Calcule âˆ«â‚€Â² (xÂ² + 1)dx.',a:'[xÂ³/3 + x]â‚€Â² = (8/3+2) âˆ’ 0 = 8/3 + 6/3 = 14/3.',lvl:'m'},
         {q:'Calcule âˆ« xÂ·eË£ dx.',a:'IntegraÃ§Ã£o por partes: u=x, dv=eË£dx. â†’ xÂ·eË£ âˆ’ âˆ«eË£dx = xÂ·eË£ âˆ’ eË£ + C = eË£(xâˆ’1)+C.',lvl:'h'}
       ]
      },
      {id:'n18',icon:'ã€½ï¸',title:'EquaÃ§Ãµes Diferenciais',sub:'EquaÃ§Ãµes com derivadas',
       tags:[{k:1,t:'EDO 1Âª ordem'},{k:0,t:'Sep. de variÃ¡veis'},{k:1,t:'EDO linear'},{k:0,t:'Modelos populacionais'},{k:0,t:'Transformada de Laplace'}],
       desc:'A fÃ­sica do universo Ã© escrita em equaÃ§Ãµes diferenciais. F=ma Ã© uma EDO. Crescimento de bactÃ©rias, circuitos elÃ©tricos, difusÃ£o de calor, mercado financeiro â€” tudo.',
       topics:['O que Ã© uma EDO: y\' = f(x,y)', 'SeparaÃ§Ã£o de variÃ¡veis', 'EDO linear de 1Âª ordem: y\' + P(x)y = Q(x)', 'Modelo de Malthus: dP/dt = rP', 'Transformada de Laplace (introduÃ§Ã£o)'],
       resources:[
         {t:'Khan Academy â€” EDOs','type':'ts',url:'https://pt.khanacademy.org/math/differential-equations',d:'EquaÃ§Ãµes diferenciais do bÃ¡sico ao intermediÃ¡rio'},
         {t:'3Blue1Brown â€” EDOs','type':'tv',url:'https://www.youtube.com/watch?v=p_di4Zn4wz4',d:'VisualizaÃ§Ã£o das equaÃ§Ãµes diferenciais â€” imperdÃ­vel'},
         {t:'MIT OCW â€” Differential Equations','type':'ts',url:'https://ocw.mit.edu/courses/18-03sc-differential-equations-fall-2011/',d:'Curso completo do MIT gratuito (inglÃªs)'}
       ],
       questions:[
         {q:'Resolva: dy/dx = 2x.',a:'dy = 2x dx â†’ âˆ«dy = âˆ«2x dx â†’ y = xÂ² + C.',lvl:'e'},
         {q:'Resolva a EDO separÃ¡vel: dy/dx = y.',a:'dy/y = dx â†’ ln|y| = x + C â†’ y = AeË£.',lvl:'m'},
         {q:'Uma populaÃ§Ã£o cresce a 5% ao ano. Se P(0)=1000, quando chega a 2000?',a:'P(t)=1000e^(0,05t)=2000 â†’ e^(0,05t)=2 â†’ t=ln(2)/0,05 â‰ˆ 13,86 anos.',lvl:'h'}
       ]
      }
    ]
  },
  {
    s:'s7',label:'ğŸ”· Ãlgebra Linear',
    nodes:[
      {id:'n19',icon:'â¡ï¸',title:'Vetores e Matrizes',sub:'A linguagem da transformaÃ§Ã£o',
       tags:[{k:1,t:'Vetores em â„â¿'},{k:1,t:'Matrizes e op.'},{k:0,t:'Determinante'},{k:0,t:'Matriz inversa'},{k:1,t:'Produto escalar'}],
       desc:'Vetores tÃªm magnitude e direÃ§Ã£o. Matrizes organizam sistemas inteiros. SÃ£o a base da computaÃ§Ã£o grÃ¡fica, de qualquer engine de jogo e de toda rede neural de IA.',
       topics:['Vetores: soma, escalar, produto escalar', 'Produto vetorial (cross product) em â„Â³', 'Matrizes: definiÃ§Ã£o, soma, multiplicaÃ§Ã£o', 'Determinante e interpretaÃ§Ã£o geomÃ©trica', 'Matriz inversa e sistemas lineares'],
       resources:[
         {t:'3Blue1Brown â€” Linear Algebra','type':'tv',url:'https://www.youtube.com/watch?v=fNk_zzaMoSs&list=PLZHQObOWTQDPD3MizzM2xVFitgF8hE_ab',d:'A melhor sÃ©rie de Ã¡lgebra linear jÃ¡ feita â€” visual e intuitiva (inglÃªs)'},
         {t:'Khan Academy â€” Ãlgebra Linear','type':'ts',url:'https://pt.khanacademy.org/math/linear-algebra',d:'Curso completo com exercÃ­cios'},
         {t:'MIT OCW â€” Linear Algebra','type':'ts',url:'https://ocw.mit.edu/courses/18-06sc-linear-algebra-fall-2011/',d:'Gilbert Strang â€” o professor lendÃ¡rio de Ã¡lgebra linear do MIT'}
       ],
       questions:[
         {q:'Calcule o determinante de [[2,3],[1,4]].',a:'det = 2Ã—4 âˆ’ 3Ã—1 = 8 âˆ’ 3 = 5.',lvl:'e'},
         {q:'Multiplique A=[1,2;3,4] por B=[2,0;1,3].',a:'AB = [1Ã—2+2Ã—1, 1Ã—0+2Ã—3; 3Ã—2+4Ã—1, 3Ã—0+4Ã—3] = [4,6;10,12].',lvl:'m'},
         {q:'Encontre a inversa de A=[2,1;5,3].',a:'det(A)=2Ã—3âˆ’1Ã—5=1. Aâ»Â¹=(1/1)Ã—[3,âˆ’1;âˆ’5,2]=[3,âˆ’1;âˆ’5,2].',lvl:'h'}
       ]
      },
      {id:'n20',icon:'ğŸ”',title:'EspaÃ§os Vetoriais e Autovalores',sub:'Estrutura e transformaÃ§Ã£o',
       tags:[{k:1,t:'Base e dimensÃ£o'},{k:0,t:'Ind. linear'},{k:1,t:'Autovalores Î»'},{k:0,t:'DiagonalizaÃ§Ã£o'},{k:0,t:'PCA / SVD'}],
       desc:'Autovetores sÃ£o as direÃ§Ãµes que uma transformaÃ§Ã£o linear nÃ£o "vira" â€” sÃ³ estica. Google PageRank Ã© um autovetor. PCA em machine learning Ã© autovetores. SÃ£o onipresentes.',
       topics:['EspaÃ§o vetorial: axiomas e exemplos', 'DependÃªncia/independÃªncia linear', 'Base e dimensÃ£o de um espaÃ§o', 'Autovalores e autovetores: Av = Î»v', 'DiagonalizaÃ§Ã£o e aplicaÃ§Ã£o em PCA'],
       resources:[
         {t:'3Blue1Brown â€” Eigenvectors','type':'tv',url:'https://www.youtube.com/watch?v=PFDu9oVAE-g',d:'Autovalores e autovetores explicados visualmente'},
         {t:'MIT OCW â€” Gilbert Strang','type':'ts',url:'https://ocw.mit.edu/courses/18-06sc-linear-algebra-fall-2011/',d:'Curso completo e gratuito do MIT'},
         {t:'Wolfram Alpha â€” Linear Algebra','type':'ts',url:'https://www.wolframalpha.com/examples/mathematics/linear-algebra/',d:'Compute autovalores e operaÃ§Ãµes matriciais'}
       ],
       questions:[
         {q:'O vetor v=[1,2] Ã© autovetor de A=[3,0;0,3]? Se sim, qual o autovalor?',a:'Av = [3,6] = 3Ã—[1,2] = 3v. Sim, autovalor Î»=3.',lvl:'e'},
         {q:'Ache os autovalores de A=[2,1;1,2].',a:'det(Aâˆ’Î»I)=0: (2âˆ’Î»)Â²âˆ’1=0 â†’ Î»Â²âˆ’4Î»+3=0 â†’ Î»=1 ou Î»=3.',lvl:'m'},
         {q:'Por que a matriz de rotaÃ§Ã£o por 90Â° nÃ£o tem autovalores reais?',a:'det(Râˆ’Î»I): equaÃ§Ã£o caracterÃ­stica dÃ¡ Î»Â²+1=0, que tem sÃ³ raÃ­zes complexas (Î»=Â±i). Intuitivamente: rotaÃ§Ã£o pura nunca mantÃ©m uma direÃ§Ã£o real.',lvl:'h'}
       ]
      }
    ]
  },
  {
    s:'s8',label:'ğŸ§  MatemÃ¡tica AvanÃ§ada â€” Fronteira',
    nodes:[
      {id:'n21',icon:'ğŸ”¬',title:'AnÃ¡lise Real',sub:'O rigor por trÃ¡s do CÃ¡lculo',
       tags:[{k:1,t:'Îµ-Î´ definiÃ§Ã£o'},{k:0,t:'Completude de â„'},{k:1,t:'SequÃªncias e sÃ©ries'},{k:0,t:'IntegraÃ§Ã£o de Riemann'},{k:0,t:'TVI e Weierstrass'}],
       desc:'AnÃ¡lise Real Ã© o CÃ¡lculo provado formalmente. Aqui vocÃª descobre que "intuitivo" nÃ£o Ã© suficiente â€” e que a intuiÃ§Ã£o pode enganar feio sem rigor. MatemÃ¡tica pura comeÃ§a aqui.',
       topics:['SequÃªncias convergentes: definiÃ§Ã£o Îµ-N', 'Limite com Îµ-Î´: o que realmente significa', 'Completude dos reais: o que â„ tem que â„š nÃ£o tem', 'IntegraÃ§Ã£o de Riemann: soma de retÃ¢ngulos infinitesimais', 'Teorema do Valor IntermediÃ¡rio e Weierstrass'],
       resources:[
         {t:'MIT OCW â€” Real Analysis','type':'ts',url:'https://ocw.mit.edu/courses/18-100a-real-analysis-fall-2020/',d:'Curso completo de anÃ¡lise real â€” MIT OpenCourseWare'},
         {t:'Abbott â€” Understanding Analysis','type':'tp',url:'https://link.springer.com/book/10.1007/978-1-4939-2712-8',d:'O livro mais acessÃ­vel de anÃ¡lise real â€” Springer (acesso livre)'},
         {t:'Real Analysis Playlist â€” Mathematic (YT)','type':'tv',url:'https://www.youtube.com/watch?v=sqEyWLGvvdw',d:'SÃ©rie completa de anÃ¡lise real em inglÃªs'}
       ],
       questions:[
         {q:'A sequÃªncia aâ‚™ = 1/n converge? Para onde?',a:'Sim. Para qualquer Îµ>0, existe N tal que n>N implica |1/n|<Îµ (tome N>1/Îµ). Converge para 0.',lvl:'e'},
         {q:'A sÃ©rie Î£(1/nÂ²) converge ou diverge?',a:'Converge. Pelo critÃ©rio de comparaÃ§Ã£o com integral âˆ«â‚^âˆ 1/xÂ² dx = 1. Soma = Ï€Â²/6 (resultado de Euler).',lvl:'m'},
         {q:'Prove que âˆš2 Ã© irracional.',a:'Por contradiÃ§Ã£o: âˆš2 = p/q com mdc(p,q)=1. EntÃ£o 2=pÂ²/qÂ² â†’ pÂ²=2qÂ² â†’ p par â†’ p=2k â†’ 4kÂ²=2qÂ² â†’ qÂ²=2kÂ² â†’ q par. ContradiÃ§Ã£o com mdc(p,q)=1. âˆ',lvl:'h'}
       ]
      },
      {id:'n22',icon:'ğŸ”£',title:'Ãlgebra Abstrata',sub:'Grupos, anÃ©is e corpos',
       tags:[{k:1,t:'Grupos'},{k:0,t:'Homomorfismos'},{k:0,t:'AnÃ©is'},{k:1,t:'Corpos (Fields)'},{k:0,t:'Teoria de Galois'}],
       desc:'Grupos sÃ£o estruturas com uma operaÃ§Ã£o e 4 axiomas. Abstratos? Sim. Mas descrevem simetrias em fÃ­sica de partÃ­culas, RSA em criptografia e a impossibilidade de resolver o quinteto geral.',
       topics:['Grupo: fechamento, associativo, neutro, inverso', 'Subgrupos e cosets (Teorema de Lagrange)', 'Homomorfismos e isomorfismos', 'AnÃ©is: adiÃ§Ã£o + multiplicaÃ§Ã£o', 'Corpos (fields): â„š, â„, â„‚, â„¤â‚š'],
       resources:[
         {t:'3Blue1Brown â€” Group Theory','type':'tv',url:'https://www.youtube.com/watch?v=mH0oCDa74tE',d:'Teoria de grupos visualizada â€” simÃ©trico e belÃ­ssimo'},
         {t:'MIT OCW â€” Ãlgebra Abstrata','type':'ts',url:'https://ocw.mit.edu/courses/18-703-modern-algebra-spring-2013/',d:'Curso completo de Ã¡lgebra moderna â€” MIT'},
         {t:'Artin â€” Algebra (Springer)','type':'tp',url:'https://link.springer.com/book/10.1007/978-3-642-17994-6',d:'ReferÃªncia clÃ¡ssica de Ã¡lgebra abstrata'}
       ],
       questions:[
         {q:'O conjunto {1, âˆ’1} com a multiplicaÃ§Ã£o forma um grupo?',a:'Fechado: 1Ã—1=1, 1Ã—(âˆ’1)=âˆ’1, (âˆ’1)Ã—(âˆ’1)=1. Associativo: sim. Neutro: 1. Inverso: 1â»Â¹=1, (âˆ’1)â»Â¹=âˆ’1. Sim, Ã© um grupo!',lvl:'e'},
         {q:'Qual a ordem do grupo Zâ‚† = {0,1,2,3,4,5} com adiÃ§Ã£o mod 6?',a:'Ordem = 6 (nÃºmero de elementos). O gerador 1 gera o grupo inteiro.',lvl:'m'},
         {q:'Por que Ã© impossÃ­vel resolver a equaÃ§Ã£o geral de grau 5 por radicais?',a:'Galois provou que o grupo de simetrias (grupo de Galois) de um polinÃ´mio de grau 5 genÃ©rico Ã© Sâ‚…, que nÃ£o Ã© solÃºvel. Grupos solÃºveis â†” solucionÃ¡vel por radicais. Sâ‚… nÃ£o Ã© solÃºvel â†’ impossÃ­vel.',lvl:'h'}
       ]
      },
      {id:'n23',icon:'ğŸŒ',title:'CÃ¡lculo MultivariÃ¡vel e Topologia',sub:'DimensÃµes alÃ©m do plano',
       tags:[{k:1,t:'Derivadas parciais âˆ‚'},{k:1,t:'Gradiente âˆ‡f'},{k:0,t:'Integrais duplas'},{k:0,t:'Stokes e Gauss'},{k:0,t:'EspaÃ§os topolÃ³gicos'}],
       desc:'O mundo real tem mais de uma variÃ¡vel. Gradiente, divergente, rotacional sÃ£o as ferramentas do cÃ¡lculo multivariÃ¡vel. Topologia estuda o que nÃ£o muda quando vocÃª dobra â€” sem rasgar.',
       topics:['FunÃ§Ãµes f: â„â¿ â†’ â„áµ', 'Derivadas parciais e plano tangente', 'Gradiente âˆ‡f: direÃ§Ã£o de maior crescimento', 'Integrais duplas e triplas com mudanÃ§a de variÃ¡vel', 'Teoremas de Green, Stokes e Gauss'],
       resources:[
         {t:'MIT OCW â€” Multivariable Calculus','type':'ts',url:'https://ocw.mit.edu/courses/18-02sc-multivariable-calculus-fall-2010/',d:'Curso lendÃ¡rio do MIT com vÃ­deos e notas completas'},
         {t:'3Blue1Brown â€” Divergence & Curl','type':'tv',url:'https://www.youtube.com/watch?v=rB83DpBJQsE',d:'VisualizaÃ§Ã£o de divergente e rotacional'},
         {t:'Khan Academy â€” Multivariable','type':'ts',url:'https://www.khanacademy.org/math/multivariable-calculus',d:'MÃ³dulo de cÃ¡lculo multivariÃ¡vel com exercÃ­cios'}
       ],
       questions:[
         {q:'Se f(x,y) = xÂ² + 3y, calcule âˆ‚f/âˆ‚x e âˆ‚f/âˆ‚y.',a:'âˆ‚f/âˆ‚x = 2x (y constante). âˆ‚f/âˆ‚y = 3 (x constante).',lvl:'e'},
         {q:'Calcule o gradiente de f(x,y) = xÂ²y + yÂ³ no ponto (1,2).',a:'âˆ‡f = (2xy, xÂ²+3yÂ²). Em (1,2): (4, 1+12) = (4, 13).',lvl:'m'},
         {q:'Qual a direÃ§Ã£o de mÃ¡ximo crescimento de f(x,y)=xÂ²+yÂ² no ponto (1,1)? Qual a taxa?',a:'âˆ‡f=(2x,2y). Em (1,1): âˆ‡f=(2,2). DireÃ§Ã£o: (2,2)/||(2,2)|| = (1/âˆš2, 1/âˆš2). Taxa: ||(2,2)|| = 2âˆš2.',lvl:'h'}
       ]
      }
    ]
  }
];

// Build done state from storage
const storage = window.storage;
let done = new Set();

async function loadDone() {
  try {
    const r = await storage.get('math_roadmap_done');
    if (r && r.value) done = new Set(JSON.parse(r.value));
  } catch(e) { done = new Set(); }
  updateProgress();
  // update node visuals
  done.forEach(id => {
    const el = document.querySelector(`[data-id="${id}"]`);
    if (el) el.classList.add('done');
  });
}

async function saveDone() {
  try { await storage.set('math_roadmap_done', JSON.stringify([...done])); } catch(e){}
}

const allNodes = DATA.flatMap(s => s.nodes);
const totalNodes = allNodes.length;
const nodeMap = new Map(allNodes.map(n => [n.id, n]));

function updateProgress() {
  const n = done.size;
  document.getElementById('pb').style.width = (n/totalNodes*100) + '%';
  document.getElementById('pl').textContent = `${n} de ${totalNodes} tÃ³picos concluÃ­dos`;
}

// Build roadmap
function buildRoadmap() {
  const map = document.getElementById('map');
  const legend = document.getElementById('legend');
  const colors = ['c0','c1','c2','c3','c4','c5','c6','c7','c8'];
  const lbls = ['Fundamentos','Ãlgebra','Geometria','FunÃ§Ãµes','CombinatÃ³ria','PrÃ©-CÃ¡lculo','CÃ¡lculo','Ãlgebra Linear','AvanÃ§ado'];

  DATA.forEach((stage, si) => {
    // Stage wrapper
    const sw = document.createElement('div');
    sw.className = `stage ${stage.s}`;
    const slbl = document.createElement('div');
    slbl.className = 'slabel';
    slbl.textContent = `N${si}`;
    const sc = document.createElement('div');
    sc.className = 'scontent';
    const sh = document.createElement('div');
    sh.className = 'sh';
    sh.textContent = stage.label;
    sc.appendChild(sh);

    // Determine row cols
    const cols = Math.min(stage.nodes.length, 4);
    const row = document.createElement('div');
    row.className = `row r${cols}`;

    stage.nodes.forEach(nd => {
      const node = document.createElement('button');
      node.className = 'node' + (done.has(nd.id) ? ' done' : '');
      node.dataset.id = nd.id;
      node.type = 'button';

      const tags = nd.tags.map(t => `<span class="tag${t.k?' k':''}">${t.t}</span>`).join('');
      node.innerHTML = `<div class="nh"><span class="ni">${nd.icon}</span><span class="nt">${nd.title}</span></div><div class="ntags">${tags}</div>`;
      row.appendChild(node);
    });

    sc.appendChild(row);
    sw.appendChild(slbl);
    sw.appendChild(sc);
    map.appendChild(sw);

    if (si < DATA.length - 1) {
      const c = document.createElement('div');
      c.className = 'connector';
      c.innerHTML = `<span>â–¼ CONSTRÃ“I SOBRE ISSO â–¼</span>`;
      map.appendChild(c);
    }

    // Legend
    const li = document.createElement('div');
    li.className = 'li';
    li.innerHTML = `<div class="ld" style="background:var(--${colors[si]})"></div>${lbls[si]}`;
    legend.appendChild(li);
  });

  // Event delegation
  document.getElementById('map').addEventListener('click', e => {
    const btn = e.target.closest('[data-id]');
    if (btn) openModal(btn.dataset.id);
  });
}

// Modal
let currentId = null;
let ratings = {};

function openModal(id) {
  currentId = id;
  ratings = {};
  const nd = nodeMap.get(id);
  if (!nd) return;

  document.getElementById('micon').textContent = nd.icon;
  document.getElementById('mtitle').textContent = nd.title;
  document.getElementById('msub').textContent = nd.sub;
  document.getElementById('mdesc').textContent = nd.desc;

  // Topics
  document.getElementById('mlist').innerHTML = nd.topics.map(t => `<li>${t}</li>`).join('');

  // Mark button
  updateMarkBtn();

  // Resources
  document.getElementById('rlist').innerHTML = nd.resources.map(r => `
    <a class="rcard" href="${r.url}" target="_blank" rel="noopener">
      <div class="rtop">
        <span class="rtype ${r.type}">${r.type === 'tv' ? 'â–¶ YouTube' : r.type === 'ts' ? 'ğŸŒ Site' : r.type === 'tp' ? 'ğŸ“„ PDF/Doc' : 'ğŸ“º Canal'}</span>
        <span class="rname">${r.t}</span>
        <span class="rarr">â†—</span>
      </div>
      <div class="rdesc">${r.d}</div>
    </a>
  `).join('');

  // Questions
  const lvlMap = {e:'qe',m:'qm',h:'qh'};
  const lvlLabel = {e:'FÃ¡cil',m:'MÃ©dio',h:'DifÃ­cil'};
  document.getElementById('qlist').innerHTML = nd.questions.map((q, qi) => `
    <div class="qcard" id="qcard-${qi}">
      <div class="qhead">
        <div class="qnum">${qi+1}</div>
        <span class="qlvl ${lvlMap[q.lvl]}">${lvlLabel[q.lvl]}</span>
      </div>
      <div class="qtxt">${q.q}</div>
      <button class="qtog" onclick="toggleAns(${qi})">ğŸ‘ Ver resposta</button>
      <div class="qans" id="qans-${qi}">âœ… ${q.a}</div>
      <div class="qself">
        <button class="qrate" onclick="rate(${qi},'bad')">ğŸ˜… NÃ£o sabia</button>
        <button class="qrate" onclick="rate(${qi},'ok')">ğŸ¤” Com esforÃ§o</button>
        <button class="qrate" onclick="rate(${qi},'good')">ğŸ’ª Facilmente</button>
      </div>
    </div>
  `).join('');
  document.getElementById('lcheck').className = 'lcheck';

  // Reset to first tab
  switchTab('overview');
  document.getElementById('ov').classList.add('open');
}

function toggleAns(qi) {
  const el = document.getElementById(`qans-${qi}`);
  el.classList.toggle('show');
  el.previousElementSibling.textContent = el.classList.contains('show') ? 'ğŸ™ˆ Ocultar' : 'ğŸ‘ Ver resposta';
}

function rate(qi, val) {
  ratings[qi] = val;
  const card = document.getElementById(`qcard-${qi}`);
  card.querySelectorAll('.qrate').forEach(b => b.className = 'qrate');
  const btns = card.querySelectorAll('.qrate');
  const cls = {bad:'sb', ok:'so', good:'sg'}[val];
  btns[{bad:0,ok:1,good:2}[val]].classList.add(cls);

  const nd = nodeMap.get(currentId);
  if (Object.keys(ratings).length === nd.questions.length) showLevelCheck();
}

function showLevelCheck() {
  const goods = Object.values(ratings).filter(v => v === 'good').length;
  const bads = Object.values(ratings).filter(v => v === 'bad').length;
  const lc = document.getElementById('lcheck');
  const nd = nodeMap.get(currentId);
  const total = nd.questions.length;

  let emoji, msg, sub, cls;
  if (goods === total) {
    emoji = 'ğŸ†'; msg = 'Pode avanÃ§ar de nÃ­vel!';
    sub = `VocÃª resolveu todas as ${total} questÃµes com facilidade.\nMarca esse tÃ³pico como concluÃ­do e siga em frente!`;
    cls = 'lcmsg';
  } else if (bads >= total - 1) {
    emoji = 'ğŸ“š'; msg = 'Revise este tÃ³pico antes de avanÃ§ar.';
    sub = `Ainda hÃ¡ lacunas. Explore os recursos indicados\ne volte aqui em alguns dias.`;
    cls = 'lcmsg';
  } else {
    emoji = 'âš¡'; msg = 'Quase lÃ¡ â€” mais um pouco de prÃ¡tica!';
    sub = `VocÃª estÃ¡ no caminho certo. RefaÃ§a as questÃµes\nque tiveram dificuldade e avance quando estiver confortÃ¡vel.`;
    cls = 'lcmsg';
  }

  document.getElementById('lcemoji').textContent = emoji;
  document.getElementById('lcmsg').textContent = msg;
  document.getElementById('lcsub').textContent = sub;
  lc.classList.add('show');
  lc.scrollIntoView({behavior:'smooth',block:'nearest'});
}

function updateMarkBtn() {
  const btn = document.getElementById('mbtn');
  const isDone = done.has(currentId);
  btn.textContent = isDone ? 'â†© Marcar como nÃ£o concluÃ­do' : 'âœ“ Marcar como concluÃ­do';
  btn.className = 'mbtn' + (isDone ? ' undone' : '');
}

document.getElementById('mbtn').addEventListener('click', async () => {
  const el = document.querySelector(`[data-id="${currentId}"]`);
  if (done.has(currentId)) { done.delete(currentId); el && el.classList.remove('done'); }
  else { done.add(currentId); el && el.classList.add('done'); }
  updateMarkBtn();
  updateProgress();
  await saveDone();
});

// Tabs
function switchTab(tabId) {
  document.querySelectorAll('.tab').forEach(t => t.classList.toggle('active', t.dataset.tab === tabId));
  document.querySelectorAll('.tpanel').forEach(p => p.classList.toggle('active', p.id === 'tab-'+tabId));
}
document.querySelectorAll('.tab').forEach(tab => {
  tab.addEventListener('click', () => switchTab(tab.dataset.tab));
});

// Close modal
function closeModal() { document.getElementById('ov').classList.remove('open'); }
document.getElementById('closebtn').addEventListener('click', closeModal);
document.getElementById('ov').addEventListener('click', e => { if (e.target.id === 'ov') closeModal(); });
document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });

// Init
buildRoadmap();
loadDone();
</script>
</body>
</html>
